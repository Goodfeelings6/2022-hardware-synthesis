#include <asm.h>
#include <regdef.h>
#include <inst_test.h>

LEAF(n34_srav_test)
    .set noreorder
    addiu s0, s0 ,1
    li  s2, 0x00
###test inst
    TEST_SRAV(0x3e594300, 0x00000003, 0x07cb2860)
    TEST_SRAV(0x171e0116, 0x00000004, 0x0171e011)
    TEST_SRAV(0xd0f01a33, 0x00000000, 0xd0f01a33)
    TEST_SRAV(0x706994dc, 0x0000001b, 0x0000000e)
    TEST_SRAV(0x974ba6c6, 0x0000000c, 0xfff974ba)
    TEST_SRAV(0x2f99bcfc, 0x00000005, 0x017ccde7)
    TEST_SRAV(0x6fc9a830, 0x00000014, 0x000006fc)
    TEST_SRAV(0x8f11af9a, 0x0000001c, 0xfffffff8)
    TEST_SRAV(0x25447260, 0x0000001a, 0x00000009)
    TEST_SRAV(0x621a8d6e, 0x0000001a, 0x00000018)
    TEST_SRAV(0x7157f254, 0x0000000d, 0x00038abf)
    TEST_SRAV(0x7250e14e, 0x00000001, 0x392870a7)
    TEST_SRAV(0x2298b0ff, 0x00000005, 0x0114c587)
    TEST_SRAV(0x9f213000, 0x00000014, 0xfffff9f2)
    TEST_SRAV(0x6fb1fd24, 0x0000000d, 0x00037d8f)
    TEST_SRAV(0xc2e3142a, 0x00000016, 0xffffff0b)
    TEST_SRAV(0x640e9214, 0x00000012, 0x00001903)
    TEST_SRAV(0x05ad50a8, 0x0000001f, 0x00000000)
    TEST_SRAV(0xba4ec160, 0x00000008, 0xffba4ec1)
    TEST_SRAV(0xe619de82, 0x0000000b, 0xfffcc33b)
    TEST_SRAV(0x09c03afc, 0x00000015, 0x0000004e)
    TEST_SRAV(0xb7009540, 0x0000000f, 0xffff6e01)
    TEST_SRAV(0xd158d6b4, 0x0000001e, 0xffffffff)
    TEST_SRAV(0xc7da8990, 0x00000000, 0xc7da8990)
    TEST_SRAV(0x083143c4, 0x00000016, 0x00000020)
    TEST_SRAV(0x3c5f0500, 0x00000000, 0x3c5f0500)
    TEST_SRAV(0xa9e40838, 0x0000001c, 0xfffffffa)
    TEST_SRAV(0xd9867f14, 0x0000001f, 0xffffffff)
    TEST_SRAV(0x090a1550, 0x00000015, 0x00000048)
    TEST_SRAV(0xa1c5ea00, 0x00000006, 0xfe8717a8)
    TEST_SRAV(0x6904a70e, 0x0000000c, 0x0006904a)
    TEST_SRAV(0x79c6bb60, 0x00000004, 0x079c6bb6)
    TEST_SRAV(0x408c241f, 0x0000001e, 0x00000001)
    TEST_SRAV(0xe01cb59e, 0x00000015, 0xffffff00)
    TEST_SRAV(0x8868bb00, 0x00000009, 0xffc4345d)
    TEST_SRAV(0x6cc8f4f8, 0x0000000f, 0x0000d991)
    TEST_SRAV(0x1c5f5cd1, 0x00000012, 0x00000717)
    TEST_SRAV(0xbdb73b00, 0x0000001f, 0xffffffff)
    TEST_SRAV(0x44ab80f0, 0x00000005, 0x02255c07)
    TEST_SRAV(0xc2d05ae0, 0x00000015, 0xfffffe16)
    TEST_SRAV(0xba4a0cb8, 0x0000001a, 0xffffffee)
    TEST_SRAV(0xb8083f72, 0x00000019, 0xffffffdc)
    TEST_SRAV(0x8cafc504, 0x00000005, 0xfc657e28)
    TEST_SRAV(0x58be02b8, 0x0000000f, 0x0000b17c)
    TEST_SRAV(0x7182ad1d, 0x00000019, 0x00000038)
    TEST_SRAV(0x7e8ee7da, 0x00000017, 0x000000fd)
    TEST_SRAV(0x7f4e1334, 0x00000016, 0x000001fd)
    TEST_SRAV(0xac956b06, 0x00000005, 0xfd64ab58)
    TEST_SRAV(0x97c874a0, 0x00000003, 0xf2f90e94)
    TEST_SRAV(0x97312710, 0x00000000, 0x97312710)
    TEST_SRAV(0x10cef5ec, 0x00000009, 0x0008677a)
    TEST_SRAV(0x0dead34e, 0x00000017, 0x0000001b)
    TEST_SRAV(0xff164008, 0x00000011, 0xffffff8b)
    TEST_SRAV(0x010adbd0, 0x00000009, 0x0000856d)
    TEST_SRAV(0x26eec740, 0x0000000c, 0x00026eec)
    TEST_SRAV(0x07643f99, 0x00000003, 0x00ec87f3)
    TEST_SRAV(0xaad5a53c, 0x00000009, 0xffd56ad2)
    TEST_SRAV(0x30d142e8, 0x00000015, 0x00000186)
    TEST_SRAV(0x14b6b644, 0x00000015, 0x000000a5)
    TEST_SRAV(0x3271e3e8, 0x0000001b, 0x00000006)
    TEST_SRAV(0x6c569ec0, 0x00000011, 0x0000362b)
    TEST_SRAV(0xbe1c738e, 0x00000008, 0xffbe1c73)
    TEST_SRAV(0xdbbad0b0, 0x00000005, 0xfeddd685)
    TEST_SRAV(0x0b24d560, 0x00000000, 0x0b24d560)
    TEST_SRAV(0xf234887c, 0x00000000, 0xf234887c)
    TEST_SRAV(0xfa3c8e40, 0x00000000, 0xfa3c8e40)
    TEST_SRAV(0x3ec5955c, 0x00000000, 0x3ec5955c)
    TEST_SRAV(0x418e01e6, 0x00000000, 0x418e01e6)
    TEST_SRAV(0xfdf5ab83, 0x00000000, 0xfdf5ab83)
    TEST_SRAV(0x64f8dfc0, 0x00000000, 0x64f8dfc0)
    TEST_SRAV(0x91d223b0, 0x00000000, 0x91d223b0)
    TEST_SRAV(0xc9839777, 0x00000000, 0xc9839777)
    TEST_SRAV(0xb40ab300, 0x00000000, 0xb40ab300)
    TEST_SRAV(0x7c90adc0, 0x00000000, 0x7c90adc0)
    TEST_SRAV(0x05985ce0, 0x00000000, 0x05985ce0)
    TEST_SRAV(0xd987f83c, 0x00000000, 0xd987f83c)
    TEST_SRAV(0x85a3fe8e, 0x00000000, 0x85a3fe8e)
    TEST_SRAV(0x286224b2, 0x00000000, 0x286224b2)
    TEST_SRAV(0x1c230e10, 0x00000000, 0x1c230e10)
    TEST_SRAV(0x72f1fa98, 0x00000000, 0x72f1fa98)
    TEST_SRAV(0x22a8cd3b, 0x00000000, 0x22a8cd3b)
    TEST_SRAV(0xbeb30f70, 0x00000000, 0xbeb30f70)
    TEST_SRAV(0x9b7838d8, 0x00000000, 0x9b7838d8)
    TEST_SRAV(0x00b9d580, 0x00000000, 0x00b9d580)
    TEST_SRAV(0x2fadd0de, 0x00000000, 0x2fadd0de)
    TEST_SRAV(0x577f089c, 0x00000000, 0x577f089c)
    TEST_SRAV(0x863e30b4, 0x00000000, 0x863e30b4)
    TEST_SRAV(0x6926a1a0, 0x00000000, 0x6926a1a0)
    TEST_SRAV(0x6f4ecb50, 0x00000000, 0x6f4ecb50)
    TEST_SRAV(0xe15c3cca, 0x00000000, 0xe15c3cca)
    TEST_SRAV(0x5f7c33a2, 0x00000000, 0x5f7c33a2)
    TEST_SRAV(0xa267ac08, 0x00000000, 0xa267ac08)
    TEST_SRAV(0x8b001228, 0x00000000, 0x8b001228)
    TEST_SRAV(0x53f7d6b8, 0x00000000, 0x53f7d6b8)
    TEST_SRAV(0xe85d5600, 0x00000000, 0xe85d5600)
    TEST_SRAV(0xf1ecfb76, 0x00000000, 0xf1ecfb76)
    TEST_SRAV(0x0fc9ea7e, 0x00000000, 0x0fc9ea7e)
    TEST_SRAV(0xcee83180, 0x00000000, 0xcee83180)
    TEST_SRAV(0x5e349f20, 0x00000000, 0x5e349f20)
    TEST_SRAV(0xc9ece2a0, 0x00000000, 0xc9ece2a0)
    TEST_SRAV(0x8e758928, 0x00000000, 0x8e758928)
    TEST_SRAV(0xcb9ff9bd, 0x00000000, 0xcb9ff9bd)
    TEST_SRAV(0x4aa3f3f4, 0x00000000, 0x4aa3f3f4)
    TEST_SRAV(0x10259cc6, 0x00000000, 0x10259cc6)
    TEST_SRAV(0x6bbcdee0, 0x00000000, 0x6bbcdee0)
    TEST_SRAV(0x0b5501c0, 0x00000000, 0x0b5501c0)
    TEST_SRAV(0x84490bba, 0x00000000, 0x84490bba)
    TEST_SRAV(0x60f7f7e4, 0x00000000, 0x60f7f7e4)
    TEST_SRAV(0xde986fe0, 0x00000000, 0xde986fe0)
    TEST_SRAV(0x2a8a6da8, 0x00000000, 0x2a8a6da8)
    TEST_SRAV(0xac02d2b0, 0x00000000, 0xac02d2b0)
    TEST_SRAV(0x74c04f80, 0x00000000, 0x74c04f80)
    TEST_SRAV(0x4043b9ee, 0x00000000, 0x4043b9ee)
    TEST_SRAV(0x00000000, 0x00000005, 0x00000000)
    TEST_SRAV(0x00000000, 0x0000000b, 0x00000000)
    TEST_SRAV(0x00000000, 0x00000019, 0x00000000)
    TEST_SRAV(0x00000000, 0x00000000, 0x00000000)
    TEST_SRAV(0x00000000, 0x0000000f, 0x00000000)
    TEST_SRAV(0x00000000, 0x00000016, 0x00000000)
    TEST_SRAV(0x00000000, 0x00000007, 0x00000000)
    TEST_SRAV(0x00000000, 0x00000005, 0x00000000)
    TEST_SRAV(0x00000000, 0x00000008, 0x00000000)
    TEST_SRAV(0x00000000, 0x00000002, 0x00000000)
    TEST_SRAV(0x00000000, 0x00000015, 0x00000000)
    TEST_SRAV(0x00000000, 0x00000016, 0x00000000)
    TEST_SRAV(0x00000000, 0x00000018, 0x00000000)
    TEST_SRAV(0x00000000, 0x00000001, 0x00000000)
    TEST_SRAV(0x00000000, 0x00000011, 0x00000000)
    TEST_SRAV(0x00000000, 0x0000001e, 0x00000000)
    TEST_SRAV(0x00000000, 0x00000016, 0x00000000)
    TEST_SRAV(0x00000000, 0x00000019, 0x00000000)
    TEST_SRAV(0x00000000, 0x00000001, 0x00000000)
    TEST_SRAV(0x00000000, 0x0000001f, 0x00000000)
    TEST_SRAV(0x00000000, 0x00000004, 0x00000000)
    TEST_SRAV(0x00000000, 0x0000001e, 0x00000000)
    TEST_SRAV(0x00000000, 0x00000006, 0x00000000)
    TEST_SRAV(0x00000000, 0x00000013, 0x00000000)
    TEST_SRAV(0x00000000, 0x0000001c, 0x00000000)
    TEST_SRAV(0x00000000, 0x0000001b, 0x00000000)
    TEST_SRAV(0x00000000, 0x0000001b, 0x00000000)
    TEST_SRAV(0x00000000, 0x0000000e, 0x00000000)
    TEST_SRAV(0x00000000, 0x00000017, 0x00000000)
    TEST_SRAV(0x00000000, 0x00000002, 0x00000000)
    TEST_SRAV(0x00000000, 0x00000001, 0x00000000)
    TEST_SRAV(0x00000000, 0x0000001c, 0x00000000)
    TEST_SRAV(0x00000000, 0x00000002, 0x00000000)
    TEST_SRAV(0x00000000, 0x0000001e, 0x00000000)
    TEST_SRAV(0x00000000, 0x0000000c, 0x00000000)
    TEST_SRAV(0x00000000, 0x00000010, 0x00000000)
    TEST_SRAV(0x00000000, 0x00000006, 0x00000000)
    TEST_SRAV(0x00000000, 0x0000001f, 0x00000000)
    TEST_SRAV(0x00000000, 0x00000008, 0x00000000)
    TEST_SRAV(0x00000000, 0x00000011, 0x00000000)
    TEST_SRAV(0x00000000, 0x00000012, 0x00000000)
    TEST_SRAV(0x00000000, 0x0000000e, 0x00000000)
    TEST_SRAV(0x00000000, 0x00000000, 0x00000000)
    TEST_SRAV(0x00000000, 0x00000008, 0x00000000)
    TEST_SRAV(0x00000000, 0x00000019, 0x00000000)
    TEST_SRAV(0x00000000, 0x00000010, 0x00000000)
    TEST_SRAV(0x00000000, 0x00000012, 0x00000000)
    TEST_SRAV(0x00000000, 0x00000011, 0x00000000)
    TEST_SRAV(0x00000000, 0x00000014, 0x00000000)
    TEST_SRAV(0x00000000, 0x00000012, 0x00000000)
    TEST_SRAV(0x00000000, 0x00000000, 0x00000000)
###detect exception
    bne s2, zero, inst_error
    nop
###score ++
    addiu s3, s3, 1
###output (s0<<24)|s3
inst_error:  
    sll t1, s0, 24
    or t0, t1, s3 
    sw t0, 0(s1)
    jr ra
    nop
END(n34_srav_test)
